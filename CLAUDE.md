# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Project Overview

This is a Hugo-based personal website for Lex Tang (lex.sh), an iOS/macOS developer. The site serves as a portfolio and hosts privacy policy pages for various iOS/macOS applications.

## Build and Development Commands

### Local Development
```bash
hugo server
```
Starts the local development server with live reload. The site will be available at http://localhost:1313

### Build for Production
```bash
hugo --minify
```
Builds the static site into the `public/` directory with minification enabled.

### Create New Content
```bash
hugo new content/filename.md
```
Creates new content using the archetype template in `archetypes/default.md`.

## Architecture

### Hugo Configuration
- **Config file**: `hugo.yaml` - Contains site configuration, theme settings, and PaperMod theme parameters
- **Theme**: PaperMod (Git submodule at `themes/PaperMod/`)
- **Base URL**: https://lex.sh/
- **Hugo version**: 0.147.6 (as specified in GitHub Actions)

### Content Structure
- **`content/`**: All site content is stored here
  - Privacy policy pages for apps: `*_privacypolicy.md` (e.g., `cmdx_privacypolicy.md`, `regex_privacypolicy.md`)
  - `content/resume/index.md`: Resume/CV page
- **`public/`**: Generated static site output (not committed, generated by Hugo)
- **`archetypes/`**: Content templates for new pages

### Theme Customization
The PaperMod theme is installed as a Git submodule. To update the theme:
```bash
git submodule update --remote themes/PaperMod
```

### Profile Mode
The site uses PaperMod's profile mode as the homepage, configured in `hugo.yaml`:
- Profile title: "Hi, I'm Lex Tang"
- Subtitle: "iOS/macOS developer, he/him/husband/dad"
- Single button linking to resume page
- Social icons for Twitter, Telegram, GitHub, Instagram, YouTube, LinkedIn

## Deployment

The site deploys automatically to GitHub Pages via GitHub Actions on push to `main` branch:
- **Workflow**: `.github/workflows/hugo.yml`
- **Hugo version**: 0.147.6 (extended)
- **Build command**: `hugo --minify --baseURL`
- **Output**: `public/` directory is uploaded and deployed

## Content Guidelines

### Privacy Policy Pages
Privacy policy pages follow a consistent structure:
- Frontmatter with title, date, and slug
- Standard sections: Information Collection and Use, Log Data, Security, Links to Other Sites, Children's Privacy, Changes to Privacy Policy, Contact
- Contact email: lexrus@gmail.com
- All apps follow privacy-first approach (no data collection)

### Page Frontmatter Format
```yaml
---
title: "Page Title"
date: YYYY-MM-DDTHH:MM:SS+08:00
slug: page-slug
---
```

## Git Submodules

The PaperMod theme is managed as a Git submodule. When cloning the repository:
```bash
git clone --recurse-submodules <repo-url>
```

Or if already cloned:
```bash
git submodule update --init --recursive
```
